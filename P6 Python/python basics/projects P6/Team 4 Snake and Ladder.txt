import random
import time
position = 0
rem_steps = 20
steps = 0
final = 20
dice = 0
dice_list = [-2, -1, 1, 2, 3, 4, 5, 6, 7]
play = ''
dice_value = 0



def roll_dice():
    dice_value = random.choice(dice_list)
    print("The dice rolled - ", dice_value)
    return dice_value



def move_forward(dice_value, position, rem_steps):
    if (rem_steps <= 6):
        print("You now need the exact number of steps to win")
        print('Number of steps left to win the game are ', rem_steps)
        if (dice_value == rem_steps):
            print("Perfect match")
            status = 1
    else:
        if (dice_value == 7):
            print("Ladder! You get to climb 2 blocks together")
            print(position)
            position+=2
            print('Your current position is ', position)
        else:
            position = position + dice_value
            print('Your current position is ', position)
        rem_steps = final - position
        print('Number of steps left to win the game are ', rem_steps)
    return position, rem_steps



def move_back(dice_value, position, rem_steps):
    if(position < 5):
        print("Too soon for a snake bite, roll again")
        print("Your current position is ", position)
        roll_dice()
    else:
        print("Snake bite!")
        print(position)
        position = position - dice_value
        #print('Your current position is ', position)
        rem_steps = final - position
        print('Number of steps left to win the game are ', rem_steps)
    return position, rem_steps



def game(dice_value, position, rem_steps):
    if (dice_value == -1 or dice_value == -2):
        position, rem_steps = move_back(dice_value, position, rem_steps)
    elif (dice_value > 0 and dice_value <8):
        position, rem_steps = move_forward(dice_value, position, rem_steps)
        #print('Position inside move fwd: ',position)
    else:
        print("Invalid input")  
    return position, rem_steps
        


name = input('Hi user, please enter your name: ')
print(name, ', Welcome to the Snake and Ladder game. The rules of the game are:')
print('''1. There are 20 steps you are required to take to win the game
2. The dice ranges from -2 to 6, where the negative is for snake bite, and positive is for moving forward.
3. Number 7 as a bonus for ladder, where you move +2.
4. Towards the end, you need the exact number to win the game''')
play = input("Are you ready to play - y or n? - ")
if play == 'y':
    dice = roll_dice()
    steps = 1
    while (dice != 6):
        dice = roll_dice()     
        steps+=1
    print("GAME START")
    print('\n')
    position = 1



    while (position<21):
        time.sleep(2)
        steps+=1
        dice = roll_dice()
        position, rem_steps = game(dice, position, rem_steps)
        
        #print('Position Now: confirmation=> ', position)
        print('You have played ', steps, ' number of turns')
        print('\n')
    print("You have successfully won the game in a total number of ", steps, 'steps. Congratulations!')



else:
    print('You are not playing the game.')